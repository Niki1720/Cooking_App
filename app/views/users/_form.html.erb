<div class="ui centered segment" id="form">
  <%= render 'shared/errors', obj: @user %>

  <%= form_with(model: @user, local: true) do |f| %>
    <div class="ui form">
      <div class="field">
        <%= f.label :username, "Username" %>
        <%= f.text_field :username, placeholder: "Enter a username" %>
        <p></p>
        <%= f.label :avatar, "User avatar" %>
        <%= f.file_field :avatar %>

      </div>
      <div id="button">
        <%= f.submit(@user.new_record? ? "Set Username" : "Update Username", class: "ui white inverted button") %>
      </div>
    </div>
  <% end %>
  <div id="back">
    <%= link_to '[ Cancel and return to user page ]', user_path(current_user) %>
  </div>
</div>

<script type="text/javascript">
    $('#image_picture').bind('change', function () {
        var size_in_megabytes = this.files[0].size / 1024 / 1024;
        if (size_in_megabytes > 5) {
            alert("Maximum file size is 5MG.");
        }
    });
</script>